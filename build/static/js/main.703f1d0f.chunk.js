(this.webpackJsonpmyAppPoll=this.webpackJsonpmyAppPoll||[]).push([[1],{63:function(e,t,n){e.exports=n(98)},69:function(e,t,n){var a={"./ion-action-sheet.entry.js":[100,5],"./ion-alert.entry.js":[101,6],"./ion-app_8.entry.js":[102,7],"./ion-avatar_3.entry.js":[103,17],"./ion-back-button.entry.js":[104,18],"./ion-backdrop.entry.js":[105,43],"./ion-button_2.entry.js":[106,19],"./ion-card_5.entry.js":[107,20],"./ion-checkbox.entry.js":[108,21],"./ion-chip.entry.js":[109,22],"./ion-col_3.entry.js":[110,44],"./ion-datetime_3.entry.js":[111,10],"./ion-fab_3.entry.js":[112,23],"./ion-img.entry.js":[113,45],"./ion-infinite-scroll_2.entry.js":[114,46],"./ion-input.entry.js":[115,24],"./ion-item-option_3.entry.js":[116,25],"./ion-item_8.entry.js":[117,26],"./ion-loading.entry.js":[118,27],"./ion-menu_3.entry.js":[119,28],"./ion-modal.entry.js":[120,8],"./ion-nav_2.entry.js":[121,14],"./ion-popover.entry.js":[122,9],"./ion-progress-bar.entry.js":[123,29],"./ion-radio_2.entry.js":[124,30],"./ion-range.entry.js":[125,31],"./ion-refresher_2.entry.js":[126,11],"./ion-reorder_2.entry.js":[127,16],"./ion-ripple-effect.entry.js":[128,47],"./ion-route_4.entry.js":[129,32],"./ion-searchbar.entry.js":[130,33],"./ion-segment_2.entry.js":[131,34],"./ion-select_3.entry.js":[132,35],"./ion-slide_2.entry.js":[133,48],"./ion-spinner.entry.js":[134,13],"./ion-split-pane.entry.js":[135,49],"./ion-tab-bar_2.entry.js":[136,36],"./ion-tab_2.entry.js":[137,15],"./ion-text.entry.js":[138,37],"./ion-textarea.entry.js":[139,38],"./ion-toast.entry.js":[140,39],"./ion-toggle.entry.js":[141,12],"./ion-virtual-scroll.entry.js":[142,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=69,e.exports=r},71:function(e,t,n){var a={"./ion-icon.entry.js":[144,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=71,e.exports=r},76:function(e,t,n){},87:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(39),o=n.n(c),i=n(10),l=n(2),s=n(58),u=(n(76),function(){var e=Object(i.e)().push;return r.a.createElement(l.w,null,r.a.createElement(l.o,null,r.a.createElement(l.C,null,r.a.createElement(l.B,null,"session"))),r.a.createElement(l.k,{fullscreen:!0,className:"ion-padding"},r.a.createElement(l.c,{onClick:function(){e("/login")}},"Login"),r.a.createElement(l.c,{onClick:function(){e("/register")}},"Register")))}),m=(n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(20)),p=n(5),f=n(6),d=n(7),h=n(8),E=n(36);E.initializeApp({apiKey:"AIzaSyAJJRMs6ZUvNwy9vsOqlQFMqZkeQ-our-c",authDomain:"poll-987fd.firebaseapp.com",databaseURL:"https://poll-987fd.firebaseio.com",projectId:"poll-987fd",storageBucket:"poll-987fd.appspot.com",messagingSenderId:"108527827297",appId:"1:108527827297:web:160ff8a0a6e1a03304ad20",measurementId:"G-WSF9PS6WV7"});var b=E.auth(),v=E.firestore();var j=r.a.createContext({}),y=(j.Consumer,function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={authFirebase:!1,isLoggedIn:!1,user:null},e.userWatchUnSub=void 0,e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;this.userWatchUnSub=(e=function(e){e?t.setState({authFirebase:!0,isLoggedIn:!0,user:e}):t.setState({authFirebase:!0,isLoggedIn:!1,user:null})},b.onAuthStateChanged((function(t){t&&!t.isAnonymous?e({idUser:t.uid,email:t.email}):e(null)})))}},{key:"componentWillUnmount",value:function(){this.userWatchUnSub&&this.userWatchUnSub()}},{key:"render",value:function(){return r.a.createElement(j.Provider,{value:Object(m.a)({},this.state)},this.props.children)}}]),n}(r.a.Component)),g=n(62),O=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=Object(g.a)(e,["type"]),a=this.context.isLoggedIn;return"private"!==t||a?"public"===t&&a?r.a.createElement(i.a,{to:"/app"}):r.a.createElement(i.b,n):r.a.createElement(i.a,{to:"/"})}}]),n}(r.a.Component);O.contextType=j;var x=O,k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.children;return this.context.authFirebase?e:r.a.createElement("div",{style:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(l.A,{name:"crescent"}))}}]),n}(r.a.Component);k.contextType=j;var w=k,_=n(4),C=n.n(_),S=n(12),L=n(27);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=document.createElement("ion-toast");return n.message=e,n.duration=t,document.body.appendChild(n),n.present()}var D=function(){var e=Object(a.useState)(!1),t=Object(L.a)(e,2),n=t[0],c=t[1],o=Object(i.e)().push,s=function(){var e=Object(S.a)(C.a.mark((function e(t){var n,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c(!0),e.prev=2,n=Object.fromEntries(new FormData(t.currentTarget)),a=n.mail,r=n.pass,!a||!r){e.next=9;break}return e.next=7,b.signInWithEmailAndPassword(a,r);case 7:e.next=10;break;case 9:Q("null");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),Q(e.t0.message,e.t0.message.length>89?1e4:2e3);case 15:c(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(l.w,null,r.a.createElement(l.o,null,r.a.createElement(l.C,null,r.a.createElement(l.d,{slot:"start"},r.a.createElement(l.b,{defaultHref:"/home"})))),r.a.createElement(l.k,{fullscreen:!0,className:"ion-padding"},r.a.createElement(l.u,{isOpen:n,message:"Please wait..."}),r.a.createElement("form",{onSubmit:s},r.a.createElement(l.n,null,r.a.createElement(l.z,{className:"ion-justify-content-center ion-align-items-center"},r.a.createElement(l.j,{sizeMd:"4"},r.a.createElement(l.e,null,r.a.createElement(l.g,null,r.a.createElement(l.i,null,"login"),r.a.createElement(l.f,null,r.a.createElement(l.t,null,r.a.createElement(l.r,null,r.a.createElement(l.s,{position:"floating"},"Email"),r.a.createElement(l.q,{name:"mail",type:"email"})),r.a.createElement(l.r,null,r.a.createElement(l.s,{position:"floating"},"Password"),r.a.createElement(l.q,{name:"pass",type:"password"})),r.a.createElement(l.c,{type:"submit",expand:"block",fill:"outline"},"enter"),r.a.createElement(l.r,null,r.a.createElement(l.s,{onClick:function(){return o("/register")},position:"stacked"},"Register?"))))))))))))},N=n(14),U=n(43),F=Object(a.createContext)({}),A=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={list:[],listQuestion:[]},e.getList=function(){var t=Object(S.a)(C.a.mark((function t(n){var a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=[],r=e.context.user.idUser,!n){t.next=7;break}return t.next=6,v.collection("form").doc(n).get();case 6:return t.abrupt("return",t.sent.data());case 7:return t.next=9,v.collection("form").where("id_user","==",r).get();case 9:t.sent.forEach((function(e){var t=e.data();a.push(Object(m.a)({_id:e.id},t))})),e.setState({list:a}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e.getListQuestion=function(){var t=Object(S.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=[],t.next=4,v.collection("question").where("id_form","==",n).get();case 4:t.sent.forEach((function(e){var t=e.data();a.push(Object(m.a)({id:e.id},t))})),e.setState({listQuestion:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.create=Object(S.a)(C.a.mark((function t(){var n,a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context.user.idUser,t.next=3,v.collection("form").add({id_user:n,name:"name form example",nFomsEnds:0});case 3:return a=t.sent,r=a.id,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)}))),e.addQuestion=function(){var t=Object(S.a)(C.a.mark((function t(n){var a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.collection("question").add(Object(m.a)(Object(m.a)({},n),{},{time:Date.now()}));case 2:a=t.sent,r=a.id,e.setState({listQuestion:[].concat(Object(U.a)(e.state.listQuestion),[Object(m.a)(Object(m.a)({},n),{},{id:r,time:Date.now()})])});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateForm=function(){var e=Object(S.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.collection("form").doc(t).update(n);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),e.delete=function(){e.getList()},e.clearQuestion=function(){return e.setState({listQuestion:[]})},e.validate=function(t,n){var a=e.context.user.idUser;v.collection("form").where("id_user","==",a).get().then((function(e){e.forEach((function(e){e.id===t&&n(!0)}))}))},e}return Object(f.a)(n,[{key:"render",value:function(){return r.a.createElement(F.Provider,{value:Object(m.a)(Object(m.a)({},this.state),{},{getList:this.getList,create:this.create,updateForm:this.updateForm,delete:this.delete,addQuestion:this.addQuestion,validate:this.validate,clearQuestion:this.clearQuestion,getListQuestion:this.getListQuestion})},this.props.children)}}]),n}(a.Component);A.contextType=j;var P=A,I=function(){var e=Object(a.useContext)(F),t=e.getList,n=e.list,c=e.create,o=Object(a.useState)(!1),s=Object(L.a)(o,2),u=s[0],m=s[1],p=Object(a.useState)(""),f=Object(L.a)(p,2),d=f[0],h=f[1],E=Object(i.e)().push,b=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=E,e.next=4,c();case 4:return e.t1=e.sent,e.t2="/app/modify/"+e.t1,(0,e.t0)(e.t2),e.next=9,t();case 9:e.next=14;break;case 11:e.prev=11,e.t3=e.catch(0),Q(e.t3);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E("/app/modify/"+d);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement(l.w,null,r.a.createElement(l.k,{fullscreen:!0,className:"ion-padding"},r.a.createElement(l.n,null,r.a.createElement(l.z,{className:"ion-justify-content-space-arrow ion-padding "},n.map((function(e,t){return r.a.createElement(l.j,{sizeMd:"1",key:t},r.a.createElement(l.e,null,r.a.createElement(l.l,{vertical:"top",horizontal:"end",slot:"absolute"},r.a.createElement("span",null,"8")),r.a.createElement(l.g,{onClick:function(){m(!0),h(e._id)}},r.a.createElement(l.i,null,e.name),r.a.createElement(l.h,null," "))))})))),r.a.createElement(l.a,{isOpen:u,onDidDismiss:function(){return m(!1)},cssClass:"my-custom-class",buttons:[{text:"Delete",role:"destructive",icon:N.r,handler:function(){console.log("Delete clicked")}},{text:"Share",icon:N.q,handler:function(){console.log("Share clicked")}},{text:"Open",icon:N.d,handler:v},{text:"Favorite",icon:N.j,handler:function(){console.log("Favorite clicked")}},{text:"Cancel",icon:N.g,role:"cancel",handler:function(){console.log("Cancel clicked")}}]}),r.a.createElement(l.l,{vertical:"bottom",horizontal:"end",slot:"fixed"},r.a.createElement(l.m,{onClick:b},r.a.createElement(l.p,{icon:N.a})))))},W=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={va:!1},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;(0,this.context.validate)(this.props.id,(function(t){e.setState({va:t})}))}},{key:"render",value:function(){return this.state.va?this.props.children:r.a.createElement("div",null,"...cargando")}}]),n}(r.a.Component);W.contextType=F;var q=function(){var e=Object(i.f)().id,t=Object(a.useContext)(F),n=t.listQuestion,c=t.getListQuestion,o=t.clearQuestion;return Object(a.useEffect)((function(){return c(e),function(){o()}}),[e,c,o]),r.a.createElement(l.v,{isOpen:!0},r.a.createElement(l.w,null,r.a.createElement(l.o,null,r.a.createElement(l.C,null,r.a.createElement(l.B,null,"Modal Agregar"),r.a.createElement(l.d,{slot:"start"},r.a.createElement(l.b,{defaultHref:"/app/home"})))),r.a.createElement(l.k,{className:"ion-padding"},r.a.createElement(W,{id:e},r.a.createElement(l.t,null,n.map((function(e,t){return r.a.createElement(l.r,{key:t},r.a.createElement(l.s,null,JSON.stringify(e)))})),n.length<1&&r.a.createElement(l.r,null,r.a.createElement(l.s,null,"no tiene preguntas")))))))},z=function(){return r.a.createElement(P,null,r.a.createElement(i.b,{exact:!0,path:"/app/home",component:I}),r.a.createElement(i.b,{exact:!0,path:"/app/modify/:id",component:q}),r.a.createElement(i.b,{exact:!0,path:"/app",render:function(){return r.a.createElement(i.a,{to:"/app/home"})}}))},M=function(){var e=Object(a.useState)(!1),t=Object(L.a)(e,2),n=t[0],c=t[1],o=Object(i.e)().push,s=function(){var e=Object(S.a)(C.a.mark((function e(t){var n,a,r,o,i,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c(!0),e.prev=2,n=Object.fromEntries(new FormData(t.currentTarget)),a=n.mail,r=n.pass,!a||!r){e.next=18;break}return e.next=8,b.createUserWithEmailAndPassword(a,r);case 8:return e.next=10,b.createUserWithEmailAndPassword(a,r);case 10:if(o=e.sent,!(i=o.user)){e.next=16;break}return l=i.uid,e.next=16,v.collection("user").doc(l).set(Object(m.a)(Object(m.a)({role:"user"},n),{},{creationTime:Date.now()}));case 16:e.next=19;break;case 18:Q("null");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),Q(e.t0.message,e.t0.message.length>89?1e4:2e3);case 24:c(!1);case 25:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(l.w,null,r.a.createElement(l.o,null,r.a.createElement(l.C,null,r.a.createElement(l.d,{slot:"start"},r.a.createElement(l.b,{defaultHref:"/home"})))),r.a.createElement(l.k,{fullscreen:!0,className:"ion-padding"},r.a.createElement(l.u,{isOpen:n,message:"Please wait..."}),r.a.createElement("form",{onSubmit:s},r.a.createElement(l.n,null,r.a.createElement(l.z,{className:"ion-justify-content-center ion-align-items-center"},r.a.createElement(l.j,{sizeMd:"4"},r.a.createElement(l.e,null,r.a.createElement(l.g,null,r.a.createElement(l.i,null,"Register"),r.a.createElement(l.f,null,r.a.createElement(l.t,null,r.a.createElement(l.r,null,r.a.createElement(l.s,{position:"floating"},"Names"),r.a.createElement(l.q,{name:"names",type:"text"})),r.a.createElement(l.r,null,r.a.createElement(l.s,{position:"floating"},"Last Names"),r.a.createElement(l.q,{name:"lastName",type:"text"})),r.a.createElement(l.r,null,r.a.createElement(l.s,{position:"floating"},"Email"),r.a.createElement(l.q,{name:"mail",type:"email"})),r.a.createElement(l.r,null,r.a.createElement(l.s,{position:"floating"},"Password"),r.a.createElement(l.q,{name:"pass",type:"password"})),r.a.createElement("br",null),r.a.createElement(l.c,{type:"submit",expand:"block",fill:"outline"},"enter"),r.a.createElement(l.r,null,r.a.createElement(l.s,{onClick:function(){return o("/login")},position:"stacked"},"Login?"))))))))))))},T=function(){return r.a.createElement(y,null,r.a.createElement(w,null,r.a.createElement(s.a,null,r.a.createElement(l.y,null,r.a.createElement(x,{path:"/app",component:z,type:"private",exact:!1}),r.a.createElement(x,{path:"/home",component:u,type:"public",exact:!0}),r.a.createElement(x,{path:"/login",component:D,type:"public",exact:!0}),r.a.createElement(x,{path:"/register",component:M,type:"public",exact:!0}),r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(i.a,{to:"/home"})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,3,4]]]);
//# sourceMappingURL=main.703f1d0f.chunk.js.map